@using SFA.DAS.AdminService.Common.Extensions;
@using SFA.DAS.RoatpGateway.Domain;
@model SFA.DAS.RoatpGateway.Web.ViewModels.RoatpGatewayApplicationViewModel

@{
    ViewBag.Title = "Gateway outcome";
    Layout = "_Layout";
}

<div class="govuk-breadcrumbs">
    <ol class="govuk-breadcrumbs__list">
        <li class="govuk-breadcrumbs__list-item">
            <a asp-controller="Dashboard" asp-action="Index" class="govuk-breadcrumbs__link">RoATP dashboard</a>
        </li>
        <li class="govuk-breadcrumbs__list-item">
            <a asp-controller="RoatpGateway" asp-action="ClosedApplications" class="govuk-breadcrumbs__link">RoATP gateway applications</a>
        </li>
        <li class="govuk-breadcrumbs__list-item" aria-current="page">Gateway outcome</li>
    </ol>
</div>

<main class="govuk-main-wrapper " id="main-content" role="main">
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">

            <h1 class="govuk-heading-xl">Gateway outcome</h1>
            <h2 class="govuk-heading-m">Organisation details</h2>

            <dl class="govuk-summary-list">
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">
                        UKPRN
                    </dt>
                    <dd class="govuk-summary-list__value">
                        @Model.Ukprn
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">
                        Organisation name
                    </dt>
                    <dd class="govuk-summary-list__value">
                        @Model.OrganisationName
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">
                        Provider route
                    </dt>
                    <dd class="govuk-summary-list__value">
                        @Model.ApplicationRoute
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">
                        Application reference
                    </dt>
                    <dd class="govuk-summary-list__value">
                        @Model.ApplicationReference
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">
                        Applicant's email address
                    </dt>
                    <dd class="govuk-summary-list__value">
                        @Model.ApplicationEmailAddress
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">
                        Date application submitted
                    </dt>
                    <dd class="govuk-summary-list__value">
                        @Model.SubmittedDate.ToSfaShortDateString()
                    </dd>
                </div>
            </dl>
        </div>
    </div>

    <div class="govuk-grid-row">
        <div class="govuk-grid-column-full">

            <h2 class="govuk-heading-m">Gateway outcome</h2>

            <dl class="govuk-summary-list">
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">
                        Outcome
                    </dt>
                    <dd class="govuk-summary-list__value">
                        <strong class="das-tag govuk-tag--inactive das-no-wrap">@Model.ApplicationStatus</strong>
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">
                        Outcome made date
                    </dt>
                    <dd class="govuk-summary-list__value">
                        @Model.ApplicationClosedOn.ToSfaShortDateString()
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">
                        Outcome made by
                    </dt>
                    <dd class="govuk-summary-list__value">
                        @Model.ApplicationClosedBy
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">
                        Internal Comments
                    </dt>
                    <dd class="govuk-summary-list__value">
                        @Model.ApplicationComments
                    </dd>
                </div>
                @if (Model.ApplicationStatus == ApplicationStatus.Removed)
                {
                    <div class="govuk-summary-list__row">
                        <dt class="govuk-summary-list__key">
                            External Comments
                        </dt>
                        <dd class="govuk-summary-list__value">
                            @Model.ApplicationExternalComments
                        </dd>
                    </div>
                }
            </dl>
        </div>

        <p class="govuk-body"><a asp-controller="RoatpGateway" asp-action="ClosedApplications" class="govuk-link">Back to gateway applications</a></p>
    </div>
</main>